import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:flutter_application_1/presentation/quest/quest_notifier.dart';

// üîë –¢–µ–ø–µ—Ä—å —ç—Ç–æ –≤–∫–ª–∞–¥–∫–∞, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω
class QuestTab extends ConsumerWidget {
  const QuestTab({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    // üí° –ß–∏—Ç–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–≤–µ—Å—Ç–∞
    final questState = ref.watch(questNotifierProvider);

    // –£–¥–∞–ª—è–µ–º Scaffold –∏ AppBar, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –≤ MainTmaScreen
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: <Widget>[
            // üí° –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å—á–µ—Ç–∞
            const Icon(Icons.star, size: 60, color: Colors.deepPurple),
            const SizedBox(height: 16),
            Text(
              '–í–∞—à —Ç–µ–∫—É—â–∏–π —Å—á–µ—Ç:',
              style: TextStyle(fontSize: 18, color: Colors.grey[600]),
            ),
            Text(
              '${questState.score} –±–∞–ª–ª–æ–≤',
              style: const TextStyle(
                fontSize: 36,
                fontWeight: FontWeight.bold,
                color: Colors.deepPurple,
              ),
            ),
            const SizedBox(height: 60),

            const Text(
              '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∏–∂–Ω–µ–µ –º–µ–Ω—é –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –∑–∞–¥–∞–Ω–∏—è–º:',
              textAlign: TextAlign.center,
              style: TextStyle(fontSize: 16),
            ),
            const SizedBox(height: 10),

            // –ó–∞–≥–ª—É—à–∫–∞, –Ω–∞–ø–æ–º–∏–Ω–∞—é—â–∞—è –æ –Ω–∞–ª–∏—á–∏–∏ –∑–∞–¥–∞–Ω–∏–π
            ElevatedButton.icon(
              onPressed: () {
                // –í –±—É–¥—É—â–µ–º –∑–¥–µ—Å—å –±—É–¥–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ –¥—Ä—É–≥—É—é –≤–∫–ª–∞–¥–∫—É –∏–ª–∏ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
                ScaffoldMessenger.of(context).showSnackBar(
                  const SnackBar(
                    content: Text(
                      '–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –≤–∫–ª–∞–¥–∫–∏ "–ö–≤–∏–∑" –∏–ª–∏ "QR-—Å–∫–∞–Ω–µ—Ä" –¥–ª—è –Ω–∞—á–∞–ª–∞.',
                    ),
                  ),
                );
              },
              icon: const Icon(Icons.arrow_downward),
              label: const Text('–ù–∞—á–∞—Ç—å –ö–≤–µ—Å—Ç'),
              style: ElevatedButton.styleFrom(
                backgroundColor: Colors.green,
                foregroundColor: Colors.white,
              ),
            ),
          ],
        ),
      ),
    );
  }
}
